# Gemini Watermark Remover

[![Live Demo](https://img.shields.io/badge/demo-remove--watermark.mlaas.in-success?style=flat-square&logo=cloudflare&logoColor=white)](https://remove-watermark.mlaas.in)
[![Stack](https://img.shields.io/badge/tech-HTML%20%7C%20JS%20%7C%20Tailwind-3B82F6?style=flat-square)](https://github.com/dearabhin/gemini-watermark-remover)
[![License](https://img.shields.io/badge/license-MIT-orange?style=flat-square)](LICENSE)

A high-performance, **100% client-side** tool for removing watermarks from images and videos generated by Google Gemini AI. Built with pure Vanilla JavaScript, it uses a mathematically precise **Reverse Alpha Blending** algorithm to restore pixels with zero quality loss.

**ğŸ”— Live Website:** [remove-watermark.mlaas.in](https://remove-watermark.pages.dev)

---

## ğŸš€ Features

* **100% Client-Side Processing:** No servers involved. Images and videos are processed locally in your browser for maximum privacy.
* **Lossless Restoration:** Uses exact mathematical inversion rather than AI inpainting, ensuring original pixel quality is preserved.
* **Video Support:** Process both images and videos frame-by-frame with real-time progress tracking.
* **Zero Dependencies:** Built with native ES6 Modules and Tailwind CSS (via CDN) â€” no complex build steps required.
* **Auto-Detection:** Automatically detects watermark size (48px or 96px) based on image/video resolution.
* **Mobile Responsive:** Fully optimized UI for desktop and mobile devices.

---

## ğŸ§  How It Works (The Algorithm)

Gemini adds watermarks using a standard **Alpha Compositing** (blending) technique. This tool simply reverses that math.

### 1. The Watermark Formula
When Gemini generates an image, it applies the watermark logo using this formula:

$$Pixel_{final} = (\alpha \times Pixel_{logo}) + (1 - \alpha) \times Pixel_{original}$$

Where:
* `Î±` (Alpha): The transparency level of the watermark pixel (0.0 to 1.0).
* `Pixel_logo`: The color of the watermark (Pure White / 255).
* `Pixel_original`: The original color we want to recover.

### 2. The Solution (Reverse Engineering)
Since we know the `Pixel_final` (from your uploaded image), the `Pixel_logo` (White), and the `Î±` map (extracted from reference images), we can solve for `Pixel_original`:

$$Pixel_{original} = \frac{Pixel_{final} - (\alpha \times Pixel_{logo})}{1 - \alpha}$$

### 3. Alpha Map Extraction
The tool loads two reference "background" images (`bg_48.png` and `bg_96.png`) which contain the isolated watermark alpha values. It reads these values to construct a precise `Float32Array` map of transparency levels, allowing for pixel-perfect subtraction.

---

## ğŸ“‚ Project Structure

This project uses a simple, modern static site structure using ES6 Modules.

```text
gemini-remover/
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ bg_48.png       # Reference alpha map for small images/videos
â”‚   â”œâ”€â”€ bg_96.png       # Reference alpha map for large images/videos (>1024px)
â”‚   â””â”€â”€ og-image.jpg    # Social media preview image
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ alphaMap.js     # Logic to calculate transparency values
â”‚   â”œâ”€â”€ blendModes.js   # The math implementation (Reverse Formula)
â”‚   â”œâ”€â”€ engine.js       # Image processing controller (Asset loading & processing)
â”‚   â”œâ”€â”€ videoEngine.js  # Video processing controller (Frame-by-frame processing)
â”‚   â””â”€â”€ app.js          # UI interaction & DOM manipulation
â””â”€â”€ index.html          # Main application file
```

## ğŸ› ï¸ Tech Stack

* **HTML5:** Semantic markup with support for video playback.
* **CSS:** [Tailwind CSS](https://tailwindcss.com/) (loaded via CDN for simplicity).
* **JavaScript:** Vanilla ES6+ (No frameworks like React or Vue).
* **Browser APIs:**
    * Canvas API (for image/video frame manipulation)
    * MediaRecorder API (for video encoding)
    * File API (for file uploads)
* **Libraries:**
    * [Iconify](https://iconify.design/) (for icons).

## ğŸ¥ Video Processing

The video processing feature works by:
1. Extracting frames from the input video using the Canvas API
2. Applying the same watermark removal algorithm to each frame
3. Recording the processed frames using MediaRecorder API
4. Preserving audio from the original video
5. Outputting a WebM video file with the watermark removed

**Note:** Video processing happens entirely in your browser with no server uploads. Processing time depends on video length and resolution.

## âš¡ Running Locally

Since this project uses **ES6 Modules** (`import`/`export`), you cannot simply open `index.html` in a file explorer (CORS security rules will block the script loading). You must serve it via a local server.

### Option 1: VS Code (Recommended)
1.  Install the **"Live Server"** extension.
2.  Right-click `index.html`.
3.  Select **"Open with Live Server"**.

### Option 2: Python
If you have Python installed, open a terminal in the project folder and run:
```bash
# Python 3
python -m http.server 8000
```

## âš ï¸ Disclaimer

This tool is for **educational and personal use only**.
* It only removes visible watermarks; it **does not** remove invisible SynthID watermarks embedded by Google.
* Please respect Google's Terms of Service and Intellectual Property rights.

## ğŸ¤ Credits

* Developed by **Abhin Krishna**.
* Algorithm adapted from [GeminiWatermarkTool](https://github.com/allenk/GeminiWatermarkTool) and [journey-ad](https://github.com/journey-ad/gemini-watermark-remover).